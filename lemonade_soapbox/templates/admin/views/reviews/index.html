{% extends 'admin/layouts/results.html' %}

{% block sort_by %}
            <select id="sort_by">
                <option value="book_author">Author</option>
                <option value="date_published">Date published</option>
                <option value="date_updated">Date updated</option>
                <option value="date_finished">Date read</option>
                <option value="rating">Rating</option>
                <option value="title">Title</option>
            </select>
{% endblock sort_by %}


{% block result_item %}
                <h3 class="title"><a href="{{ url_for('.edit_review', id=post.id) }}" title="Edit review">{{ post.title }}</a></h3>
                    <img src="/media/book_covers/{{ post.book_cover }}" alt="" class="cover" />
                    <footer>
                        <dl class="details">
                            <dt class="_hide">Author</dt>
                            <dd><a href="{{ url_for('.reviews', book_author=post.book_author) }}">{{ post.book_author }}</a></dd>

                            <dt>Finished</dt>
                            <dd><time datetime="{{ post.date_finished.format('YYYY-MM-DD') }}">{{ post.date_finished.format('MMM DD, YYYY') }}</time></dd>

                            <dt class="_hide">Rating</dt>
                            <dd title="{{ post.rating }} of 5 stars">
                                {% for star in range(5) %}
                                    {% if star <= post.rating %}
                                    <i class="star -full"></i>
                                    {% else %}
                                    <i class="star -empty"></i>
                                    {% endif %}
                                {% endfor %}
                            </dd>
                        </dl>
                    </footer>

                    <div class="summary">
                        {% if post.summary %}
                            {{ post.summary }}
                        {% else %}
                            {{ post.body_html|striptags|truncate(300) }}
                        {% endif %}
                    </div>
{% endblock %}
