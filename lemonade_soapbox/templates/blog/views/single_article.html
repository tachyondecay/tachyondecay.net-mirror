{% extends 'blog/layouts/master.html' %}

{% block page_title %}
{{ article.title }} {{ super() }}
{% endblock %}


{% block body_main %}
<article id="{{ article.handle }}" data-id="{{ article.id }}" class="o-wrapper--text o-post o-post--single">
    <header>
        <h1 class="o-post__title c-page__title u-text-shadow">{{ article.title }}</h1>
        {% if article.summary %}
        <div class="o-post__summary">
            {{ article.summary }}
        </div>
        {% endif %}
    </header>

    <footer>
        <p class="o-post__details o-post__pubinfo u-margin-horizontal-small">
        {% if article.status == 'published' %}
           <span class="pubdate"><time datetime="{{ article.date_published.isoformat() }}">{{ article.date_published.to(config.TIMEZONE).format('dddd, MMMM D, YYYY h:mm A ZZ') }}</time></span>

            {% if article.show_updated and article.date_updated > article.date_published %}
            <span class="updated">Last updated <time datetime="{{ article.date_updated.isoformat() }}">{{ article.date_updated.to(config.TIMEZONE).humanize()}}</time></span>
            {% endif %}
        {% endif %}
        </p>

        {% if article.tags %}
        <aside class="o-post__tags">
            <h1 class="u-hidden">Tags</h1>
            <ul class="o-list-inline c-taglist">
                {% for t in article._tags|sort(attribute='handle') %}
                <li class="o-list-inline__item"><a class="c-taglist__tag c-btn" href="{{ url_for('blog.show_tag', handle=t.handle) }}" rel="tag">{{ t.label }}</a></li>
                {% endfor %}
            </ul>
        </aside>
        {% endif %}
    </footer>

    <div class="o-post__content">
        {{ article.body_html }}
    </div>
</article>
{% endblock %}